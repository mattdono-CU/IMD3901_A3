<html>
  <head>
    <title>Chromatose</title>
    <script src="js/aframe-v0.9.0.js"></script>
    <script src="js/aframe-extras.js"></script>
    <script src="js/aframe-physics-system.js"></script>
    <script src="js/chromatose-manager-component.js"></script>
    <script src="js/chroma-block-component.js"></script>
  </head>
  <body>
    <a-scene  physics="debug: false;
                       gravity: -9.8;">
      <!-- Assets -->
      <a-assets>
        <!-- Shapes -->
        <a-mixin  id="mWall"
                  geometry="primitive: box;
                            height: 5;
                            width: 15;
                            depth: 1;"
                  static-body
        ></a-mixin>
        <a-mixin  id="mBlock"
                  chroma-block
                  geometry="primitive: box;
                            height: 0.9;
                            width: 0.9;
                            depth: 0.9;"
                  dynamic-body="mass: 10;"
                  position="0 0.45 0"
        ></a-mixin>
        <a-mixin  id="mPad"
                  geometry="primitive: cylinder;
                            height: 0.08;
                            radius: 0.8"
                  static-body
                  position="0 0.04 0"
        ></a-mixin>

        <!-- Colours -->
        <a-mixin  id="mColour"
                  material="color: #2ecc71"
        ></a-mixin>
        <a-mixin  id="mWhite"
                  material="color: #ecf0f1"
        ></a-mixin>
        <a-mixin  id="mGreen"
                  material="color: #2ecc71"
        ></a-mixin>
        <a-mixin  id="mYellow"
                  material="color: #f1c40f"
        ></a-mixin>
        <a-mixin  id="mBlue"
                  material="color: #3498db"
        ></a-mixin>
        <a-mixin  id="mPurple"
                  material="color: #9b59b6"
        ></a-mixin>

      </a-assets>
      <!-- End of Assets -->

      <!-- Player -->
      <a-entity id="camera-rig"
                movement-controls
                kinematic-body="mass: 20;
                                radius: 1;"
                position="0 0 2"
      >
        <a-entity id="camera"
                  camera
                  look-controls
                  position="0 1.6 0"
        >
          <a-entity id="cursor"
                    cursor="fuse: false;
                            rayOrigin: mouse;"
                    raycaster="objects: .clickable;
                               far: 2;"
                    position="0 0 -1"
          ></a-entity>
        </a-entity>
      </a-entity>

      <!-- Ground -->
      <a-entity id="floor"
                static-body
                mixin="mColour"
                geometry="primitive: box;
                          height: 0.1;
                          width: 16;
                          depth: 16;"
                position="0 -0.05"
      ></a-entity>

      <!-- Walls -->
      <a-entity id="wall-back"
                mixin="mColour mWall"
                position="0 2.5 -8"
      ></a-entity>
      <a-entity id="wall-front"
                mixin="mColour mWall"
                position="0 2.5 8"
      ></a-entity>
      <a-entity id="wall-left"
                mixin="mColour mWall"
                position="-8 2.5 0"
                rotation="0 90 0"
      ></a-entity>
      <a-entity id="wall-right"
                mixin="mColour mWall"
                position="8 2.5 0"
                rotation="0 90 0"
      ></a-entity>

      <!-- Chroma Shapes -->
      <!-- Blocks -->
      <a-entity id="block-green"
                class="clickable"
                mixin="mGreen mBlock"
                position="-3 0.45 6"
      ></a-entity>
      <a-entity id="block-yellow"
                class="clickable"
                mixin="mYellow mBlock"
                position="-4 0.45 2"
      ></a-entity>
      <a-entity id="block-blue"
                class="clickable"
                mixin="mBlue mBlock"
                position="4 0.45 4"
      ></a-entity>
      <a-entity id="block-purple"
                class="clickable"
                mixin="mPurple mBlock"
                position="4 0.45 -5"
      ></a-entity>

      <!-- Pads -->
      <a-entity id="pad-green"
                mixin="mGreen mPad"
                position="4 0.04 -2"
      ></a-entity>
      <a-entity id="pad-yellow"
                mixin="mYellow mPad"
                position="6 0.04 5"
      ></a-entity>
      <a-entity id="pad-blue"
                mixin="mBlue mPad"
                position="-5 0.04 -6"
      ></a-entity>
      <a-entity id="pad-purple"
                mixin="mPurple mPad"
                position="-5 0.04 4"
      ></a-entity>
      <!-- End of Chroma Shapes -->

      <!-- Button Console -->
      <a-entity id="button-rig">
          <a-entity id="button"
                    class="clickable"
                    static-body
                    geometry="primitive: cylinder;
                              radius: 0.1;
                              height: 0.1;"
                    material="color: #e74c3c;"
                    position="0 1.04 0"
                    animation__for="startEvents: mousedown;
                                    property: position;
                                    from: 0 1.04 0;
                                    to: 0 0.96 0;
                                    dur: 50;
                                    easing: easeInOutSine;"
                    animation__back="startEvents: mouseup;
                                     property: position;
                                     from: 0 0.96 0;
                                     to: 0 1.04 0;
                                     dur: 500;
                                     easing: easeInOutSine;"
          ></a-entity>
          <a-entity id="mPedestal"
                    static-body
                    geometry="primitive: box;
                              height: 1;
                              width: 0.4;
                              depth: 0.4;"
                    material="color: #bdc3c7;"
                    position="0 0.5 0"
          ></a-entity>
      </a-entity>

      <!-- Lighting -->
      <a-light  type="ambient"
                color="#bbb"
                intensity="1.2"
      ></a-light>

      <!-- Event Handler -->
      <a-entity id="handler"
                chromatose-manager
      ></a-entity>

    </a-scene>
  </body>
</html>